(window.webpackJsonpCMSBrowserComponents=window.webpackJsonpCMSBrowserComponents||[]).push([[14],{260:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),o=n(9),a=n.n(o),c=n(95);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={inject:["EventBus"],props:{appId:{type:String,required:!0},url:{type:String,default:"https://radix.as3.io"},standardFields:{type:Array,default:function(){return[{name:"firstName",radix:"identity:givenName"},{name:"lastName",radix:"identity:familyName"},{name:"email",radix:"identity:primaryEmail"},{name:"phone",radix:"identity:primaryPhone.number"},{name:"company",radix:"identity:companyName"},{name:"jobTitle",radix:"identity:title"},{name:"postalCode",radix:"identity:primaryAddress.postalCode"},{name:"country",radix:"identity:primaryAddress.countryCode"}]}},submissionFieldIds:{type:Array,default:function(){return[]}}},computed:{fields:function(){return[].concat(a()(this.standardFields),a()(this.submissionFieldIds.filter((function(e){return e.id})).map((function(e){return{name:e.name,radix:"submission:answers.".concat(e.id)}}))))}},created:function(){var e=this;this.EventBus.$on("inquiry-form-submit",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.contentId,r=t.contentType,o=t.payload,a={identifier:n,type:"content-".concat(r)},s=e.fields.filter((function(e){var t=e.name;return o[t]})).reduce((function(e,t){var n=t.name,r=t.radix;return d({},e,i()({},r,o[n]))}),{"submission:referringHost":"".concat(window.location.protocol,"//").concat(window.location.host),"submission:referringHref":window.location.href}),p={data:s,meta:{model:a},notify:{enabled:!1}};a.identifier&&a.type&&Object(c.a)({url:e.url,appId:e.appId,method:"POST",endpoint:"/app/submission/inquiry",body:p})}))},methods:{getElementValue:function(e,t){var n=e[t];if(n)return n.value}}},u=n(1),l=Object(u.a)(p,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"radix-inquiry-listener",attrs:{"data-app-id":this.appId}})}),[],!1,null,null,null);t.default=l.exports},95:function(e,t,n){"use strict";var r=n(2),i=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.url,n=e.appId,r=e.method,i=e.endpoint,o=e.body;return fetch("".concat(t).concat(i),a({method:r,headers:a({"x-radix-appid":n,"x-requested-with":"XMLHttpRequest"},o&&{"content-type":"application/json"}),cache:"no-cache",credentials:"same-origin"},o&&{body:JSON.stringify(o)}))}}}]);
//# sourceMappingURL=marko-web-radix-inquiry-listener.229e9a16.js.map